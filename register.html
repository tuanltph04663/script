<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>

	<!-- External CSS -->
	<link rel="stylesheet" href="./css/style.css">

	<!-- jQuery -->
	<script src="./js/jquery.min.js"></script>
</head>

<body>

	<header class="header">
		<h1 class="title">Tabi Tea</h1>
	</header>

	<section class="breadcrumb">
		<div class="container">
			<div class="menu">
				<a href="index.html">Home</a>
				<a href="checkout.html">Checkout</a>
				<a href="register.html">Đăng ký</a>
				<a href="login.html">Đăng nhập</a>
				<a href="slideshow.html">Album nổi bật</a>
			</div>
		</div>
	</section>

	<main>
		<div id="register-form" class="form">

			<div class="form-group">
				<label for="">Họ và tên:</label>
				<input type="text" class="input" name="fullName" />
			</div>

			<div class="form-group">
				<label for="">Email:</label>
				<input type="text" class="input" name="email" />
			</div>

			<div class="form-group">
				<label for="">User name:</label>
				<input type="text" class="input" name="userName" />
			</div>

			<div class="form-group">
				<label for="">Mật khẩu:</label>
				<input type="password" class="input" name="password" />
			</div>

			<div class="form-group">
				<label for="">Xác nhận mật khẩu:</label>
				<input type="password" class="input" name="confirmPassword" />
			</div>

			<div class="form-group">
				<label for="">Địa chỉ:</label>
				<input type="text" class="input" name="address" />
			</div>

			<div class="form-group">
				<label for="">Giới tính :</label>
				<label>
					Nam
					<input type="radio" name="gender" checked>
				</label>
				<label>
					Nữ
					<input type="radio" name="gender">
				</label>
			</div>

			<div class="form__button">
				<input class="btn btn--default btn--3d" type="button" value="Đăng Ký" name="dangky" onclick="dangky()" />
			</div>
		</div>

	</main>

	<footer class="footer">
		<p class="subtitle">developed by tuan &copy; 2018</p>
	</footer>

	<!-- JavaScript -->
	<script type="text/javascript">
		function valid(field) {
			field.removeClass('invalid');
			field.addClass('valid');
		}

		function invalid(field) {
			field.removeClass('valid');
			field.addClass('invalid');
		}

		function validation(field) {
			const fieldVal = field.val();
			if (fieldVal == undefined || fieldVal.trim() == "") {
				invalid(field);
			} else {
				valid(field);
			}
		}

		function emailValidation(field) {
			// TODO email validation handle here
			const fieldVal = field.val();
			const acong = fieldVal.indexOf("@"); // acong là vị trí xuất hiện đầu tiền của @
			const dot = fieldVal.indexOf(".", acong);

			if (acong < 0 || dot < 0 || dot == (acong + 1) || dot == (fieldVal.length - 1)) {
				// email sai dinh dang
				invalid(field);
			} else {
				// email dung
				valid(field);
			}
		}

		function confirmPassValidation(field, password) {
			// TODO password confirm validation handle here
			const fieldVal = field.val();
			const passwordVal = password.val();

			if (fieldVal == passwordVal) {
				valid(field);
			} else {
				invalid(field);
			}

		}

		function dangky() {
			const iFullName = $('#register-form').find('input[name="fullName"]');
			const iEmail = $('#register-form').find('input[name="email"]');
			const iUserName = $('#register-form').find('input[name="userName"]');
			const iPassword = $('#register-form').find('input[name="password"]');
			const iConfirmPassword = $('#register-form').find('input[name="confirmPassword"]');
			const iAddress = $('#register-form').find('input[name="address"]');

			// validate: neu trong, add them class invalid (tomato border input)
			validation(iFullName);
			validation(iUserName);
			validation(iPassword);
			validation(iAddress);

			confirmPassValidation(iConfirmPassword, iPassword);
			validation(iConfirmPassword);
			emailValidation(iEmail);



			// var arr = document.getElementsByTagName("input");
			// var ar = document.getElementsByTagName("span")
			// for (var i = 0; i < arr.length - 2; i++) {
			// 	if (arr[i].value == '') ar[i].innerHTML = 'Chưa nhập ' + text[i];
			// 	else ar[i].innerHTML = '';
			// }
			// if (arr[1].value != '') {

			// if (arr[4].value == '') ar[4].innerHTML = "chưa xác nhận mật khẩu";
			// else
			// if (arr[3].value == '') ar[3].innerHTML = "Chưa nhập mật khẩu"
		}
	</script>

	<!-- External JavaScript -->
	<script src="./js/script.js"></script>
</body>

</html>